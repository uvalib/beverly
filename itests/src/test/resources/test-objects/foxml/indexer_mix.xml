<?xml version="1.0" encoding="UTF-8"?>
<foxml:digitalObject VERSION="1.1" PID="indexer:mix"
  xmlns:foxml="info:fedora/fedora-system:def/foxml#"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="info:fedora/fedora-system:def/foxml# http://www.fedora.info/definitions/1/0/foxml1-1.xsd">
  <foxml:objectProperties>
    <foxml:property NAME="info:fedora/fedora-system:def/model#state" VALUE="Active"/>
    <foxml:property NAME="info:fedora/fedora-system:def/model#label"
      VALUE="Indexer object for MIX metadata"/>
    <foxml:property NAME="info:fedora/fedora-system:def/model#ownerId" VALUE="fedoraAdmin"/>
  </foxml:objectProperties>

  <foxml:datastream ID="DC" STATE="A" CONTROL_GROUP="X" VERSIONABLE="true">
    <foxml:datastreamVersion ID="DC1.0" LABEL="Dublin Core Record for this object"
      MIMETYPE="text/xml" FORMAT_URI="http://www.openarchives.org/OAI/2.0/oai_dc/">
      <foxml:xmlContent>
        <oai_dc:dc xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/"
          xmlns:dc="http://purl.org/dc/elements/1.1/"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd">
          <dc:title>Indexer object for MIX metadata</dc:title>
          <dc:identifier>indexer:mix</dc:identifier>
        </oai_dc:dc>
      </foxml:xmlContent>
    </foxml:datastreamVersion>
  </foxml:datastream>
  <foxml:datastream ID="XSLT" STATE="A" CONTROL_GROUP="X" VERSIONABLE="true">

    <foxml:datastreamVersion ID="XSLT.0" LABEL="XSLT transform" MIMETYPE="application/xslt+xml"
      FORMAT_URI="http://www.w3.org/2007/schema-for-xslt20.xsd">
      <foxml:xmlContent>
        <xsl:stylesheet xmlns:mix="http://www.loc.gov/mix/v20"
          xmlns:xd="http://www.oxygenxml.com/ns/doc/xsl" xmlns:xs="http://www.w3.org/2001/XMLSchema"
          xmlns:xsl="http://www.w3.org/1999/XSL/Transform" exclude-result-prefixes="xs xd mix"
          version="2.0">
          <xd:doc scope="stylesheet">
            <xd:desc>
              <xd:p>
                <xd:b>Created on:</xd:b> Mar 6, 2011</xd:p>
              <xd:p>
                <xd:b>Author:</xd:b> ajs6f</xd:p>
              <xd:p>Stylesheet for indexing MIX technical metadata</xd:p>
            </xd:desc>
          </xd:doc>
          <xsl:output indent="yes" method="xml"/>
          <xsl:template match="mix:mix">
            <xsl:variable name="width"
              select="/mix:mix/mix:BasicImageInformation/mix:BasicImageCharacteristics/mix:imageWidth"/>
            <xsl:variable name="height"
              select="/mix:mix/mix:BasicImageInformation/mix:BasicImageCharacteristics/mix:imageHeight"/>
            <add>
              <doc>
                <field name="height_display">
                  <xsl:value-of select="$height"/>
                </field>
                <field name="width_display">
                  <xsl:value-of select="$width"/>
                </field>
                <field name="pixel_size_display">
                  <xsl:value-of
                    select="concat($width,&apos; pixels by &apos;,$height, &apos; pixels&apos;)"/>
                </field>
              </doc>
            </add>
          </xsl:template>
        </xsl:stylesheet>
      </foxml:xmlContent>
    </foxml:datastreamVersion>
  </foxml:datastream>
  <foxml:datastream ID="RELS-EXT" STATE="A" CONTROL_GROUP="X" VERSIONABLE="true">
    <foxml:datastreamVersion ID="RELS-EXT.0" LABEL="RDF Statements about this object"
      MIMETYPE="application/rdf+xml" FORMAT_URI="info:fedora/fedora-system:FedoraRELSExt-1.0">
      <foxml:xmlContent>
        <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
          <rdf:Description rdf:about="info:fedora/indexer:mix">
            <hasModel xmlns="info:fedora/fedora-system:def/model#"
              rdf:resource="info:fedora/indexer:cm"/>
          </rdf:Description>
        </rdf:RDF>
      </foxml:xmlContent>
    </foxml:datastreamVersion>
  </foxml:datastream>
</foxml:digitalObject>
